{"version":3,"sources":["lang.js","script.js"],"names":["langArr","menu-1","en","menu-2","ru","menu-3","sign_up","h2","search","filter__text","f1","f2","crossCount","select","document","querySelector","querySelectorAll","allLang","window","location","hash","arrow","clearSearch","val","value","fillSearch","onclick","substr","crossAppearAndAlarmDissappear","addEventListener","toggle","classList","add","crossClear","oninput","changeUrlLanguage","lang","href","pathname","reload","rotateLangArrow1","contains","remove","rotateLangArrow3","rotateLangArrow4","changeLanguage","key","elem","innerHTML","getCityWeatherAndAlarmIfWrongCity","fetch","concat","resp","json","then","data","selectedCities","push","CityCount","name","main","temp","wind","speed","description","cardCreation","console","log","card","createElement","icon","icon_eclipse","main_info","city_info","wind_speed","time","weather_type","appendChild","fillTheCard","prepend","onfocus","onblur","rotateLangArrow2","includes","body","index","toggleModal"],"mappings":"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","file":"main.min.js","sourcesContent":["const langArr = {\n    'menu-1' : {\n        'ru': 'меню',\n        'en': 'menu',\n    },\n    'menu-2' : {\n        'ru': 'скачать приложение',\n        'en': 'download app',\n    },\n    'menu-3' : {\n        'ru': 'контакты',\n        'en': 'contact us',\n    },\n    'sign_up' : {\n        'ru': 'регистрация',\n        'en': 'sign up',\n    },\n    'h2' : {\n        'ru': 'Узнайте погоду в любой точке мира с помощью <span class=\"waviy\"><span style=\"--i:1\">D</span><span style=\"--i:2\">a</span><span style=\"--i:3\">r</span><span style=\"--i:4\">k</span><span style=\"margin: 4px\"> </span><span style=\"--i:6\">W</span><span style=\"--i:7\">e</span><span style=\"--i:8\">a</span><span style=\"--i:9\">t</span><span style=\"--i:10\">h</span><span style=\"--i:11\">e</span><span style=\"--i:12\">r</span><span style=\"--i:13\">!</span></span>',\n        'en': 'Seing the weather of the whole world with <span class=\"waviy\"><span style=\"--i:1\">D</span><span style=\"--i:2\">a</span><span style=\"--i:3\">r</span><span style=\"--i:4\">k</span><span style=\"margin: 4px\"> </span><span style=\"--i:6\">W</span><span style=\"--i:7\">e</span><span style=\"--i:8\">a</span><span style=\"--i:9\">t</span><span style=\"--i:10\">h</span><span style=\"--i:11\">e</span><span style=\"--i:12\">r</span><span style=\"--i:13\">!</span></span>',\n    },\n    'search' : {\n        'ru': 'искать здесь',\n        'en': 'search here',\n    },\n    'filter__text' : {\n        'ru': 'Фильтры',\n        'en': 'Filters',\n    },\n    'f1' : {\n        'ru': 'Теплее',\n        'en': 'Coldest',\n    },\n    'f2' : {\n        'ru': 'Холоднее',\n        'en': 'Warmest',\n    },\n}","let crossCount = 0;\nconst select = document.querySelector('select');\nconst allLang = ['en', 'ru'];\nlet arrow = document.querySelectorAll('.arrow');\nlet hash = window.location.hash;\nlet selectedCities = [];\nlet CityCount = 0;\n\n//Очистка поиска при нажатии\nfunction clearSearch(){\n    let val = document.querySelector('.search').value;\n    if (val == 'search here' || val == 'искать здесь'){\n        document.querySelector('.search').value = '';\n    };\n}\n\ndocument.querySelector('.search').onclick = clearSearch;\n\n//Наполнение пустого поиска\nfunction fillSearch(){\n    let val = document.querySelector('.search').value;\n    if (val == ''){\n        document.querySelector('.search').value = langArr.search[window.location.hash.substr(1)];\n    };\n}\n\ndocument.querySelector('.search').addEventListener(\"focusout\", fillSearch);\n\n// Логика появления крестика\n\nfunction crossAppearAndAlarmDissappear(){\n    if (crossCount ==  0){\n        document.querySelector('.cross').classList.toggle('zeroOpt');\n        crossCount++;\n    }\n    document.querySelector('.alarm').classList.add('zeroOpt');\n}\n\ndocument.querySelector('.search').oninput = crossAppearAndAlarmDissappear;\n\n\n// Логика работы крестика\nfunction crossClear(){\n    document.querySelector('.search').value = '';\n    document.querySelector('.cross').classList.toggle('zeroOpt');    \n    crossCount--;\n}\n    \ndocument.querySelector('.cross').onclick = crossClear;\n\n//Смена языка\n\n\nselect.addEventListener('change', changeUrlLanguage);\n\nfunction changeUrlLanguage(){\n    let lang = select.value;\n    location.href = window.location.pathname + '#' + lang;\n    location.reload();\n}\n\n//Вертим стрелочки в Select\n\n\nfunction rotateLangArrow1 (){\n    if (arrow[0].classList.contains('rotate')){\n        arrow[0].classList.remove('rotate');\n    } else {\n        arrow[0].classList.add('rotate');\n    }\n}\nfunction rotateLangArrow2 (){\n    if (arrow[1].classList.contains('rotate')){\n        arrow[1].classList.remove('rotate');\n    } else {\n        arrow[1].classList.add('rotate');\n    }\n}\nfunction rotateLangArrow3 (){\n    if (arrow[2].classList.contains('rotate')){\n        arrow[2].classList.remove('rotate');\n    } else {\n        arrow[2].classList.add('rotate');\n    }\n}\nfunction rotateLangArrow4 (){\n    if (arrow[3].classList.contains('rotate')){\n        arrow[3].classList.remove('rotate');\n    } else {\n        arrow[3].classList.add('rotate');\n    }\n}\n\ndocument.querySelector('.change_lang').onfocus = rotateLangArrow1;\ndocument.querySelector('.change_lang').onblur = rotateLangArrow1;\ndocument.querySelector('#coldest-warmest').onfocus = rotateLangArrow2;\ndocument.querySelector('#coldest-warmest').onblur = rotateLangArrow2;\ndocument.querySelector('#temp').onfocus = rotateLangArrow3;\ndocument.querySelector('#temp').onblur = rotateLangArrow3;\n\n\n// Меняет язык сайта \n\nhash = hash.substr(1);\nif (!allLang.includes(hash)){\n    location.href = window.location.pathname + '#en';\n    location.reload();\n}\nselect.value = hash;\n\nfunction changeLanguage(){\n    for (let key in langArr){\n        let elem = document.querySelector('.'+ key);\n        if(elem.classList.contains('search')) {\n            elem.value = langArr[key][hash];\n        } else {\n            elem.innerHTML = langArr[key][hash];\n        }\n    }\n}\nchangeLanguage();\n\n\nfunction getCityWeatherAndAlarmIfWrongCity(){\n    let val = document.querySelector('.search').value;\n    fetch(`https://api.openweathermap.org/data/2.5/weather?q=${val}&appid=5c32ce994c3668d65bb55ab967a0bf2c&units=metric&lang=${hash}`)\n    .then(function(resp) { return resp.json() }) // Получает от fetch строку и преобразует в массив\n    .then(function (data){  \n        try{\n            selectedCities.push([]);\n            selectedCities[CityCount].push(data.name);\n            selectedCities[CityCount].push(data.main.temp);\n            selectedCities[CityCount].push(data.wind.speed);\n            selectedCities[CityCount].push(data.weather[0].description);\n            selectedCities[CityCount].push(data.timezone);\n            cardCreation()\n        } catch {\n            document.querySelector('.alarm').classList.remove('zeroOpt');\n        } finally {\n            CityCount++;\n        }\n    })\n    console.log(selectedCities);\n}\n\nfunction cardCreation(){\n    let card = document.createElement('div');\n    let icon = document.createElement('div');\n    let icon_eclipse = document.createElement('div');\n    let main_info = document.createElement('div');\n    let city_info = document.createElement('div');\n    let temp = document.createElement('div');\n    let wind_speed = document.createElement('div');\n    let weather_type = document.createElement('div');\n    let time = document.createElement('div');\n\n    card.classList.add('card');\n    icon.classList.add('icon');\n    icon_eclipse.classList.add('icon_eclipse');\n    main_info.classList.add('main_info');\n    city_info.classList.add('city_info');\n    temp.classList.add('temp');\n    wind_speed.classList.add('wind_speed');\n    weather_type.classList.add('weather_type');\n    time.classList.add('time');\n\n    card.appendChild(icon);\n    card.appendChild(icon_eclipse);\n    card.appendChild(main_info);\n    main_info.appendChild(city_info);\n    main_info.appendChild(temp);\n    card.appendChild(wind_speed);\n    card.appendChild(weather_type);\n    card.appendChild(time);\n\n    document.querySelector('.card__container').prepend(card);\n    fillTheCard(CityCount);\n}\ndocument.querySelector('.search__btn').onclick = getCityWeatherAndAlarmIfWrongCity;\n\n// Кнопка регистрации\nconst toggleModal = () => {\n    const { classList } = document.body;\n    if (classList.contains('open')){\n        classList.remove('open');\n        classList.add('closed');\n    } else {\n        classList.remove('closed');\n        classList.add('open');\n    }\n}\n\ndocument.querySelector('.modal-background').onclick = toggleModal;\ndocument.querySelector('.sign_up').onclick = toggleModal;\n\n\nfunction fillTheCard(index){\n\n    if (selectedCities[index][3] == \"clear sky\"){\n        document.querySelector('.card .icon').innerHTML = `<img src=\"img/ClearSky.png\">`;\n    } else if (selectedCities[index][3] == \"few clouds\" || selectedCities[index][3] == \"scattered clouds\" || selectedCities[index][3] == \"broken clouds\"){\n        document.querySelector('.card .icon').innerHTML = `<img src=\"img/Clouds.png\">`;\n    } else if (selectedCities[index][3] == \"thunderstorm\"){\n        document.querySelector('.card .icon').innerHTML = `<img src=\"img/Thunder.png\">`;\n    } else if (selectedCities[index][3] == \"rain\"){\n        document.querySelector('.card .icon').innerHTML = `<img src=\"img/Rain.png\">`;\n    } else if (selectedCities[index][3] == \"shower rain\"){\n        document.querySelector('.card .icon').innerHTML = `<img src=\"img/ShowerRain.png\">`;\n    } else {\n        document.querySelector('.card .icon').innerHTML = `<img src=\"img/aFewClouds.png\">`;\n    }\n    \n    document.querySelector('.card .city_info').innerHTML = selectedCities[index][0];\n    document.querySelector('.card .temp').innerHTML = selectedCities[index][1] + ' ' + `&deg;С`;\n    document.querySelector('.card .wind_speed').innerHTML = 'Wind Speed : ' + selectedCities[index][2] + ' m/s';\n    document.querySelector('.card .weather_type').innerHTML = selectedCities[index][3];\n    document.querySelector('.time').innerHTML = `GTM : +${selectedCities[index][4] / 3600}`;\n}"]}