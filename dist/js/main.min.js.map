{"version":3,"sources":["lang.js","script.js"],"names":["langArr","menu-1","en","menu-2","ru","menu-3","sign_up","h2","search","filter__text","clearSearch","val","document","querySelector","value","onclick","crossCount","crossAppearAndAlarmDissappear","classList","toggle","add","crossClear","oninput","select","addEventListener","lang","location","changeUrlLanguage","pathname","arrow","querySelectorAll","rotateLangArrow1","contains","remove","rotateLangArrow2","rotateLangArrow3","rotateLangArrow4","onfocus","onblur","hash","window","key","elem","innerHTML","substr","allLang","includes","changeLanguage","selectedCities","CityCount","getCityWeather","fetch","concat","resp","json","data","push","name","main","temp","wind","weather","description","timezone","undefined","console","setTheCard","index","createElement"],"mappings":"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","file":"main.min.js","sourcesContent":["const langArr = {\n    'menu-1' : {\n        'ru': 'меню',\n        'en': 'menu',\n    },\n    'menu-2' : {\n        'ru': 'скачать приложение',\n        'en': 'download app',\n    },\n    'menu-3' : {\n        'ru': 'контакты',\n        'en': 'contact us',\n    },\n    'sign_up' : {\n        'ru': 'регистрация',\n        'en': 'sign up',\n    },\n    'h2' : {\n        'ru': 'Узнайте погоду во всем мире с помощью <span>Dark Weather!</span>',\n        'en': 'Seing the weather of the whole world with <span>Dark Weather!</span>',\n    },\n    'search' : {\n        'ru': 'искать здесь',\n        'en': 'search here',\n    },\n    'filter__text' : {\n        'ru': 'Фильтры',\n        'en': 'Filters',\n    },\n}","//Очистка поиска при нажатии\nfunction clearSearch(){\n    let val = document.querySelector('.search').value;\n    if (val == 'search here' || val == 'искать здесь'){\n        document.querySelector('.search').value = '';\n    };\n}\n\ndocument.querySelector('.search').onclick = clearSearch;\n\n// Логика появления крестика\nlet crossCount = 0;\nfunction crossAppearAndAlarmDissappear(){\n    if (crossCount ==  0){\n        document.querySelector('.cross').classList.toggle('zeroOpt');\n        crossCount++;\n    }\n    document.querySelector('.alarm').classList.add('zeroOpt');\n}\n\ndocument.querySelector('.search').oninput = crossAppearAndAlarmDissappear;\n\n\n// Логика работы крестика\nfunction crossClear(){\n    document.querySelector('.search').value = '';\n    document.querySelector('.cross').classList.toggle('zeroOpt');    \n    crossCount--;\n}\n    \ndocument.querySelector('.cross').onclick = crossClear;\n\n//Смена языка\nconst select = document.querySelector('select');\nconst allLang = ['en', 'ru'];\n\nselect.addEventListener('change', changeUrlLanguage);\n\nfunction changeUrlLanguage(){\n    let lang = select.value;\n    location.href = window.location.pathname + '#' + lang;\n    location.reload();\n}\n\n//Вертим стрелочки в Select\nlet arrow = document.querySelectorAll('.arrow');\n\nfunction rotateLangArrow1 (){\n    if (arrow[0].classList.contains('rotate')){\n        arrow[0].classList.remove('rotate');\n    } else {\n        arrow[0].classList.add('rotate');\n    }\n}\nfunction rotateLangArrow2 (){\n    if (arrow[1].classList.contains('rotate')){\n        arrow[1].classList.remove('rotate');\n    } else {\n        arrow[1].classList.add('rotate');\n    }\n}\nfunction rotateLangArrow3 (){\n    if (arrow[2].classList.contains('rotate')){\n        arrow[2].classList.remove('rotate');\n    } else {\n        arrow[2].classList.add('rotate');\n    }\n}\nfunction rotateLangArrow4 (){\n    if (arrow[3].classList.contains('rotate')){\n        arrow[3].classList.remove('rotate');\n    } else {\n        arrow[3].classList.add('rotate');\n    }\n}\n\ndocument.querySelector('.change_lang').onfocus = rotateLangArrow1;\ndocument.querySelector('.change_lang').onblur = rotateLangArrow1;\ndocument.querySelector('#coldest-warmest').onfocus = rotateLangArrow2;\ndocument.querySelector('#coldest-warmest').onblur = rotateLangArrow2;\ndocument.querySelector('#temp').onfocus = rotateLangArrow3;\ndocument.querySelector('#temp').onblur = rotateLangArrow3;\n// document.querySelector('#weather').onfocus = rotateLangArrow4;\n// document.querySelector('#weather').onblur = rotateLangArrow4;\n\n\n// Меняет язык сайта \nlet hash = window.location.hash;\nhash = hash.substr(1);\nif (!allLang.includes(hash)){\n    location.href = window.location.pathname + '#en';\n    location.reload();\n}\nselect.value = hash;\n\nfunction changeLanguage(){\n    for (let key in langArr){\n        let elem = document.querySelector('.'+ key);\n        if(elem.classList.contains('search')) {\n            elem.value = langArr[key][hash];\n        } else {\n            elem.innerHTML = langArr[key][hash];\n        }\n    }\n}\nchangeLanguage();\n\nlet selectedCities = [];\nlet CityCount = 0;\nfunction getCityWeather(){\n    let val = document.querySelector('.search').value;\n    fetch(`https://api.openweathermap.org/data/2.5/weather?q=${val}&appid=5c32ce994c3668d65bb55ab967a0bf2c&units=metric&lang=${hash}`)\n    .then(function(resp) { return resp.json() }) // Получает от fetch строку и преобразует в массив\n    .then(function (data){\n        selectedCities.push([]);\n        selectedCities[CityCount].push(data.name);\n        selectedCities[CityCount].push(data.main.temp);\n        selectedCities[CityCount].push(data.wind.speed);\n        selectedCities[CityCount].push(data.weather[0].description);\n        selectedCities[CityCount].push(data.timezone);\n        if(selectedCities[CityCount] == undefined){\n            document.querySelector('.alarm').classList.remove('zeroOpt');\n        } else {\n            document.createElement('div').classList.add(`card${CityCount}`);\n            console.log(document.createElement('div').classList.add('card'));\n            // newCard.innerHTML = '<div class=\"icon\"></div><div class=\"icon_eclipse\"></div><div class=\"main_info\"><span class=\"city_info\"></span><span class=\"temp\"></span></div><div class=\"wind_speed\"></div><div class=\"time\"></div><div class=\"weather_type\"></div>';\n            // document.querySelector('.card__container').appendChild(newCard);\n        }\n        CityCount++;\n    })\n    console.log(selectedCities);\n}\ndocument.querySelector('.search__btn').onclick = getCityWeather;\n\nfunction setTheCard(index){\n\n    if (selectedCities[index][3] == \"clear sky\"){\n        document.querySelector('.card .icon').innerHTML = `<img src=\"img/ClearSky.png\">`;\n    } else if (selectedCities[index][3] == \"few clouds\" || selectedCities[index][3] == \"scattered clouds\" || selectedCities[index][3] == \"broken clouds\"){\n        document.querySelector('.card .icon').innerHTML = `<img src=\"img/Clouds.png\">`;\n    } else if (selectedCities[index][3] == \"thunderstorm\"){\n        document.querySelector('.card .icon').innerHTML = `<img src=\"img/Thunder.png\">`;\n    } else if (selectedCities[index][3] == \"rain\"){\n        document.querySelector('.card .icon').innerHTML = `<img src=\"img/Rain.png\">`;\n    } else if (selectedCities[index][3] == \"shower rain\"){\n        document.querySelector('.card .icon').innerHTML = `<img src=\"img/ShowerRain.png\">`;\n    } else {\n        document.querySelector('.card .icon').innerHTML = `<img src=\"img/aFewClouds.png\">`;\n    }\n    \n    document.querySelector('.card1 .city_info').innerHTML = selectedCities[index][0];\n    document.querySelector('.card1 .temp').innerHTML = selectedCities[index][1] + ' ' + `&deg;С`;\n    if (hash == 'en') {\n        document.querySelector('.card1 .wind_speed').innerHTML ='Wind Speed : ' + selectedCities[index][2] + ' m/s';\n        document.querySelector('.card1 .weather_type').innerHTML = selectedCities[index][3];\n    } else if (hash == 'ru') {\n        document.querySelector('.card1 .wind_speed').innerHTML ='Скорость ветра : ' + selectedCities[index][2] + ' м/с';\n        document.querySelector('.card1 .weather_type').innerHTML = selectedCities[index][3];\n    }\n    document.querySelector('.time').innerHTML = `GTM : +${selectedCities[index][4] / 3600}`;\n}"]}