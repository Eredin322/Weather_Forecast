{"version":3,"sources":["cities.js","lang.js","script.js"],"names":["cities","allCities","_defineProperty","_langArr","menu-1","ru","en","menu-2","langArr","menu-3","sign_up","h2","search","filter__text","f1","f2","f3","f4","f5","f6","f7","f8","f9","f10","f11","clearSearch","val","document","querySelector","value","onclick","select","allLang","addEventListener","location","href","window","pathname","lang","changeUrlLanguage","arrow","querySelectorAll","rotateLangArrow1","classList","remove","contains","rotateLangArrow2","add","rotateLangArrow3","rotateLangArrow4","onfocus","onblur","hash","reload","elem","key","changeLanguage","getAllCitiesWeather","i","length","_loop","fetch","concat","then","resp","json","data","push","name","main","temp","wind","speed","weather","description","timezone","setTheCard1","index","innerHTML","searchValue","console","log","oninput","searchHere"],"mappings":"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","file":"main.min.js","sourcesContent":["let cities = [\r\n    `Moscow`,\r\n    `Saint Petersburg`,\r\n    `Novosibirsk`,\r\n    `Yekaterinburg`,\r\n    `Bishkek’`,\r\n    `Kaliningrad`,\r\n    `Flensburg`,\r\n    `Omsk`,\r\n];\r\n\r\nlet allCities = [];","const langArr = {\r\n    'menu-1' : {\r\n        'ru': 'меню',\r\n        'en': 'menu',\r\n    },\r\n    'menu-2' : {\r\n        'ru': 'скачать приложение',\r\n        'en': 'download app',\r\n    },\r\n    'menu-3' : {\r\n        'ru': 'контакты',\r\n        'en': 'contact us',\r\n    },\r\n    'sign_up' : {\r\n        'ru': 'регистрация',\r\n        'en': 'sign up',\r\n    },\r\n    'h2' : {\r\n        'ru': 'Узнайте погоду во всем мире с помощью <span>Dark Weather!</span>',\r\n        'en': 'Seing the weather of the whole world with <span>Dark Weather!</span>',\r\n    },\r\n    'search' : {\r\n        'ru': 'искать здесь',\r\n        'en': 'search here',\r\n    },\r\n    'filter__text' : {\r\n        'ru': 'Фильтры',\r\n        'en': 'Filters',\r\n    },\r\n    'f1' : {\r\n        'ru': 'Теплее',\r\n        'en': 'Coldest',\r\n    },\r\n    'f2' : {\r\n        'ru': 'Холоднее',\r\n        'en': 'Warmest',\r\n    },\r\n    'f3' : {\r\n        'ru': 'Солнечно',\r\n        'en': 'Clear sky',\r\n    },\r\n    'f4' : {\r\n        'ru': 'Облачно',\r\n        'en': 'Few Clouds',\r\n    },\r\n    'f5' : {\r\n        'ru': 'Немного Облачно',\r\n        'en': 'Scattered clouds',\r\n    },\r\n    'f6' : {\r\n        'ru': 'Много Облачно',\r\n        'en': 'Broken clouds',\r\n    },\r\n    'f7' : {\r\n        'ru': 'Ливень',\r\n        'en': 'Shower rain',\r\n    },\r\n    'f8' : {\r\n        'ru': 'Дождь',\r\n        'en': 'Rain',\r\n    },\r\n    'f9' : {\r\n        'ru': 'Шторм',\r\n        'en': 'Thunderstorm',\r\n    },\r\n    'f10' : {\r\n        'ru': 'Снег',\r\n        'en': 'Snow',\r\n    },\r\n    'f11' : {\r\n        'ru': 'Туман',\r\n        'en': 'Mist',\r\n    },\r\n    'f11' : {\r\n        'ru': 'Туман',\r\n        'en': 'Mist',\r\n    },\r\n    'f11' : {\r\n        'ru': 'Туман',\r\n        'en': 'Mist',\r\n    },\r\n    'f11' : {\r\n        'ru': 'Туман',\r\n        'en': 'Mist',\r\n    },\r\n    'f11' : {\r\n        'ru': 'Туман',\r\n        'en': 'Mist',\r\n    },\r\n    'f11' : {\r\n        'ru': 'Туман',\r\n        'en': 'Mist',\r\n    },\r\n    'f11' : {\r\n        'ru': 'Туман',\r\n        'en': 'Mist',\r\n    },\r\n}","//Очистка поиска при нажатии\r\nfunction clearSearch(){\r\n    let val = document.querySelector('.search').value;\r\n    if (val == 'search here' || val == 'искать здесь'){\r\n        document.querySelector('.search').value = '';\r\n    };\r\n}\r\n\r\ndocument.querySelector('.search').onclick = clearSearch;\r\n\r\n//Смена языка\r\nconst select = document.querySelector('select');\r\nconst allLang = ['en', 'ru'];\r\n\r\nselect.addEventListener('change', changeUrlLanguage);\r\n\r\nfunction changeUrlLanguage(){\r\n    let lang = select.value;\r\n    location.href = window.location.pathname + '#' + lang;\r\n    location.reload();\r\n}\r\n\r\n//Вертим стрелочки в Select\r\nlet arrow = document.querySelectorAll('.arrow');\r\n\r\nfunction rotateLangArrow1 (){\r\n    if (arrow[0].classList.contains('rotate')){\r\n        arrow[0].classList.remove('rotate');\r\n    } else {\r\n        arrow[0].classList.add('rotate');\r\n    }\r\n}\r\nfunction rotateLangArrow2 (){\r\n    if (arrow[1].classList.contains('rotate')){\r\n        arrow[1].classList.remove('rotate');\r\n    } else {\r\n        arrow[1].classList.add('rotate');\r\n    }\r\n}\r\nfunction rotateLangArrow3 (){\r\n    if (arrow[2].classList.contains('rotate')){\r\n        arrow[2].classList.remove('rotate');\r\n    } else {\r\n        arrow[2].classList.add('rotate');\r\n    }\r\n}\r\nfunction rotateLangArrow4 (){\r\n    if (arrow[3].classList.contains('rotate')){\r\n        arrow[3].classList.remove('rotate');\r\n    } else {\r\n        arrow[3].classList.add('rotate');\r\n    }\r\n}\r\n\r\ndocument.querySelector('.change_lang').onfocus = rotateLangArrow1;\r\ndocument.querySelector('.change_lang').onblur = rotateLangArrow1;\r\ndocument.querySelector('#coldest-warmest').onfocus = rotateLangArrow2;\r\ndocument.querySelector('#coldest-warmest').onblur = rotateLangArrow2;\r\ndocument.querySelector('#temp').onfocus = rotateLangArrow3;\r\ndocument.querySelector('#temp').onblur = rotateLangArrow3;\r\ndocument.querySelector('#weather').onfocus = rotateLangArrow4;\r\ndocument.querySelector('#weather').onblur = rotateLangArrow4;\r\n\r\n\r\n// Меняет язык сайта \r\nlet hash = window.location.hash;\r\nhash = hash.substr(1);\r\nif (!allLang.includes(hash)){\r\n    location.href = window.location.pathname + '#en';\r\n    location.reload();\r\n}\r\nselect.value = hash;\r\n\r\nfunction changeLanguage(){\r\n    for (let key in langArr){\r\n        let elem = document.querySelector('.'+ key);\r\n        if(elem.classList.contains('search')) {\r\n            elem.value = langArr[key][hash];\r\n        } else {\r\n            elem.innerHTML = langArr[key][hash];\r\n        }\r\n    }\r\n}\r\nchangeLanguage();\r\n\r\nfunction getAllCitiesWeather(){\r\n    // Получаем язык на котором будем выводить\r\n\r\n    // fetch(`https://api.openweathermap.org/data/2.5/weather?q=Bishkek&appid=5c32ce994c3668d65bb55ab967a0bf2c&units=metric&lang=${hash}`)\r\n    // .then(function(resp) { return resp.json() }) // Получает от fetch строку и преобразует в массив\r\n    // .then(function (data){\r\n    //     console.log(data);\r\n    //     if (data.weather[0]['icon'] == \"01d\"){\r\n    //         document.querySelector('.card .icon').innerHTML = `<img src=\"img/ClearSky.png\">`;\r\n    //     } else {\r\n    //         document.querySelector('.card .icon').innerHTML = `<img src=\"img/Clouds.png\">`;\r\n    //     }\r\n        \r\n    //     document.querySelector('.card .city_info').innerHTML = data.name;\r\n    //     document.querySelector('.card .temp').innerHTML = data.main.temp + `&deg;`;\r\n    //     if (hash == 'en') {\r\n    //         document.querySelector('.wind_speed').innerHTML ='Wind Speed : ' + data.wind.speed + ' m/s';\r\n    //         document.querySelector('.weather_type').innerHTML = data.weather[0].description;\r\n    //     } else {\r\n    //         document.querySelector('.wind_speed').innerHTML ='Скорость ветра : ' + data.wind.speed + ' м/с';\r\n    //         document.querySelector('.weather_type').innerHTML = data.weather[0].description;\r\n    //     }\r\n    //     document.querySelector('.time').innerHTML = `GTM : +${data.timezone / 3600}`;\r\n    // })\r\n    // Создаем массив со всеми городами\r\n        for (let i = 0; i < cities.length; i++){\r\n        fetch(`https://api.openweathermap.org/data/2.5/weather?q=${cities[i]}&appid=5c32ce994c3668d65bb55ab967a0bf2c&units=metric&lang=${hash}`)\r\n        .then(function(resp) { return resp.json() }) // Получает от fetch строку и преобразует в массив\r\n        .then(function (data){\r\n            allCities.push([]);\r\n            allCities[i].push(data.name);\r\n            allCities[i].push(data.main.temp);\r\n            allCities[i].push(data.wind.speed);\r\n            allCities[i].push(data.weather[0].description);\r\n            allCities[i].push(data.timezone);\r\n        })\r\n    }\r\n}\r\n\r\nconsole.log(allCities);\r\n\r\ngetAllCitiesWeather();\r\n\r\n\r\nfunction setTheCard1(index){\r\n\r\n    if (allCities[index][3] == \"clear sky\"){\r\n        document.querySelector('.card .icon').innerHTML = `<img src=\"img/ClearSky.png\">`;\r\n    } else if (allCities[index][3] == \"few clouds\" || allCities[index][3] == \"scattered clouds\" || allCities[index][3] == \"broken clouds\"){\r\n        document.querySelector('.card .icon').innerHTML = `<img src=\"img/Clouds.png\">`;\r\n    } else if (allCities[index][3] == \"thunderstorm\"){\r\n        document.querySelector('.card .icon').innerHTML = `<img src=\"img/Thunder.png\">`;\r\n    } else if (allCities[index][3] == \"rain\"){\r\n        document.querySelector('.card .icon').innerHTML = `<img src=\"img/Rain.png\">`;\r\n    } else if (allCities[index][3] == \"shower rain\"){\r\n        document.querySelector('.card .icon').innerHTML = `<img src=\"img/ShowerRain.png\">`;\r\n    } else {\r\n        document.querySelector('.card .icon').innerHTML = `<img src=\"img/aFewClouds.png\">`;\r\n    }\r\n    \r\n    document.querySelector('.card1 .city_info').innerHTML = allCities[index][0];\r\n    document.querySelector('.card1 .temp').innerHTML = allCities[index][1] + ' ' + `&deg;С`;\r\n    if (hash == 'en') {\r\n        document.querySelector('.card1 .wind_speed').innerHTML ='Wind Speed : ' + allCities[index][2] + ' m/s';\r\n        document.querySelector('.card1 .weather_type').innerHTML = allCities[index][3];\r\n    } else if (hash == 'ru') {\r\n        document.querySelector('.card1 .wind_speed').innerHTML ='Скорость ветра : ' + allCities[index][2] + ' м/с';\r\n        document.querySelector('.card1 .weather_type').innerHTML = allCities[index][3];\r\n    }\r\n    document.querySelector('.time').innerHTML = `GTM : +${allCities[index][4] / 3600}`;\r\n}\r\n\r\nfunction searchHere(){\r\n    let searchValue = document.querySelector('.search').value;\r\n    let filteredCities = [];\r\n    for(let i = 0; i < allCities.length; i++){\r\n        if(allCities[i][0] == searchValue ){\r\n            setTheCard1(i);\r\n        }\r\n    }\r\n}\r\ndocument.querySelector('.search').oninput = searchHere;"]}