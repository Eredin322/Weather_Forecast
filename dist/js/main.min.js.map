{"version":3,"sources":["lang.js","script.js"],"names":["langArr","menu-1","en","menu-2","ru","menu-3","sign_up","h2","search","filter__text","f1","f2","defaultSearchValue","document","querySelector","value","clearSearch","val","fillSearch","onclick","addEventListener","crossCount","crossAppearAndAlarmDissappear","classList","toggle","add","crossClear","changeUrlLanguage","select","allLang","href","window","location","pathname","lang","rotateLangArrow1","arrow","contains","remove","rotateLangArrow2","rotateLangArrow3","rotateLangArrow4","onfocus","onblur","hash","changeLanguage","includes","key","reload","elem","selectedCities","CityCount","getCityWeather","innerHTML","fetch","concat","then","resp","json","data","push","name","main","temp","wind","speed","weather","description","timezone","undefined","createElement","console","index","toggleModal"],"mappings":"aAAA,IAAMA,QAAU,CACZC,SAAW,CADTD,GAAU,OACZE,GAAW,MAAA,EAEPC,SAAM,CAHEC,GAAA,qBAKZF,GAAW,cAFD,EAING,SAAM,CAPED,GAAA,WASZF,GAAW,YAFD,EAINI,QAAM,CAXEF,GAAA,cAaZF,GAAY,SAFF,EAINK,GAAM,CAfEH,GAAA,gcAiBLF,GAAA,6bAFG,EAINM,OAAM,CAnBEJ,GAAA,eAqBZF,GAAW,aAFD,EAINO,aAAM,CAvBEL,GAAA,UAyBZF,GAAA,SAFU,EAINQ,GAAM,CA3BEN,GAAA,SA6BLF,GAAA,SAFG,EAINS,GAAM,CA/BEP,GAAA,WAiCLF,GAAA,SAFG,CA/BE;aCChB,IAAIU,mBAAqBC,SAASC,cAAc,SAAvB,EAAkCC,MAD3D,SAAAC,cACIJ,IAAAA,EAAAA,SAAkBE,cAAYA,SAA9BF,EAA4CG,MAGjC,eAAPE,GAA+B,gBAAPA,IAFhCJ,SAASG,cAAa,SAAtB,EAAsBD,MAAA,GAKrB,CAKD,SANKG,aAQU,IAPdL,SAAAC,cAAA,SAAA,EAAAC,QAEOF,SAACC,cAAc,SAAf,EAARC,MAA4CC,mBAG5C,CAHAH,SAJQA,cAASC,SAIjB,EAJ+BK,QAAvBH,YAcRH,SAASC,cAAc,SAAvB,EAAkCM,iBAAiB,WAAYF,UAA/D,EAGA,IANKG,WAAA,EAOL,SAASC,gCAPJ,GAAAD,aACJR,SAAAC,cAAA,QAAA,EAAAS,UAAAC,OAAA,SAAA,EASOH,UAAU,IAEdR,SAASC,cAAc,QAAvB,EAAiCS,UAAUE,IAAI,SAA/C,CANJ,CAaA,SARKC,aASDb,SAASC,cAAc,SAAvB,EAAkCC,MAAQ,GAR1CF,SAASC,cAAc,QAAvBD,EAAiCU,UAAUE,OAAI,SAA/CZ,EACHQ,UAAA,EAUA,CAhBDR,SAASS,cAAAA,SAAT,EAASA,QAA+BA,8BAkBxCT,SAASC,cAAc,QAAvB,EAAiCK,QAAUO,WAG3C,IAPIb,OAASC,SAATA,cAAiCS,QAAxBT,EACTO,QAAU,CAAA,KAAA,MAWd,SAASM,oBALHC,IAAAA,EAASf,OAASC,MAClBe,SAAOC,KAAGC,OAAhBC,SAAAC,SAAA,IAAAC,EAEAN,SAAOR,OAAPQ,CAMC,CANDA,OAAOR,iBAAiB,SAAUO,iBAAlC,EASA,IALIK,MAASF,SAAOC,iBAAgBE,QAAvBH,EAEZ,SAEDK,mBAIQC,MAAM,GAAGb,UAAUc,SAAS,QAA5B,EACAD,MAAM,GAAGb,UAAUe,OAAO,QAA1B,EAEAF,MAAM,GAAGb,UAAUE,IAAI,QAAvB,CAEP,CACD,SALac,mBADTH,MAEO,GAAAb,UAAAc,SAAA,QAFP,EAGID,MAASb,GAAAA,UAAce,OAAA,QAAvBF,EAEPA,MAAA,GAAAb,UAAAE,IAAA,QAAA,CACD,CAOA,SANQW,mBACAA,MAASb,GAAAA,UAAUe,SAAO,QAA1BF,EADJA,MAEO,GAAAb,UAAAe,OAAA,QAFP,EAICF,MAAA,GAAAb,UAAAE,IAAA,QAAA,CAQJ,CAND,SAASe,mBACDJ,MAAA,GAASb,UAAUc,SAAS,QAA5BD,EACAA,MAASb,GAAAA,UAAUe,OAAO,QAA1BF,EAEAA,MAASb,GAAAA,UAAcE,IAAA,QAAvBW,CAEP,CACDvB,SAAS4B,cAAAA,cAAT,EAA4BC,QAAAP,iBAS5BtB,SARQuB,cAASb,cAQjB,EARoCoB,OAAUR,iBAS9CtB,SARaC,cAAcwB,kBAQ3B,EARQI,QAAAH,iBASR1B,SARWC,cAAA,kBAQX,EARW6B,OAAAJ,iBASX1B,SARaC,cAAcW,OAQ3B,EAR+BiB,QAAvBF,iBASR3B,SARKC,cAAA,OAQL,EARK6B,OAAAH,iBAML3B,IAAAA,KAASC,OAAAA,SAAc8B,KAgBvB,SAASC,iBANL,IAAChB,IAAQiB,KAAAA,QAAb,CACId,IAASF,EAAOC,SAAOC,cAAP,IAA2Be,CAA3BhB,EACPiB,EAAAA,UAATX,SAAA,QAASW,EACZC,EAAAlC,MAAAf,QAAA+C,GAAAH,MACDK,EAAeL,UAAf5C,QAAA+C,GAAAH,KAEA,CASC,CAxBD/B,KAAAA,KAASC,OAAAA,CAATD,EACAA,QAASC,SAAT8B,IAAA/B,IAEAmB,SAAAF,KAAAC,OAAAC,SAAAC,SAAA,MAGAD,SAAAgB,OAAA,GACApB,OAAIgB,MAAOb,KAkBXc,eARgB,EAUhB,IATQK,eAAQ3B,GAUZ4B,UATQ,EAUZ,SAXQC,iBAYJ,IATQH,EAAKI,SAAYrD,cAAa4C,SAAzBS,EAALtC,MACHuC,MAAA,qDAAAC,OAAAtC,EAAA,4DAAA,EAAAsC,OAAAX,IAAA,CAAA,EACJY,KAAA,SAAAC,GAAA,OAAAA,EAAAC,KAAA,CAAA,CADI,EAERF,KAAA,SAAAG,GAUOT,eAAeU,KAAK,EAApB,EATRf,eAAcM,WAAAS,KAAAD,EAAAE,IAAdhB,EAEIK,eAAJC,WAAAS,KAAAD,EAAAG,KAAAC,IAAIb,EACAC,eAAJA,WAAAS,KAAAD,EAAAK,KAAAC,KAAId,EAUID,eAAeC,WAAWS,KAAKD,EAAKO,QAAQ,GAAGC,WAA/C,EATRjB,eAAAC,WAAyBS,KAAAD,EAAAS,QAAzB,EACqCC,MAA1BnB,eAAYpC,WACdD,SAAAC,cAAA,QAAA,EAAAS,UAAAe,OAAA,SAAA,GACwCzB,SAAAyD,cAAA,KAAA,EAAA/C,UAAAE,IAAA,OAAA8B,OAAAJ,SAAA,CAAA,EACvCoB,QAAUZ,IAAK9C,SAAAyD,cAAA,KAAA,EAAA/C,UAAAE,IAAA,MAAA,CAAf,GAIFyB,SAAAA,EACAA,CAhBC,EAiBDA,QAAAA,IAAAA,cAAAA,CAYP,CACDrC,SAZWqC,cAAeC,cAY1B,EAZwCkB,QAAUjB,eAelD,IAZYvC,YAASyD,WAajB,IAZQC,EAAoB1D,SAACyD,KAArBC,UAEAhD,EAAAc,SAAA,MAAA,GACHd,EAAAe,OAAA,MAAA,EAYDf,EAAUE,IAAI,QAAd,IA5BJF,EAAAe,OAAA,QAAA,EAmBAiC,EAAYrB,IAAAA,MAAZqB,EAcH,EAMD,SAbQhD,WAAUc,GAEV,aAAAd,eAAciD,GAAd,GAFJ3D,SAGOC,cAAA,aAHP,EAGOuC,UAHP,+BAII,cAAUf,eAAVkC,GAAA,IAAA,oBAAAtB,eAAAsB,GAAA,IAAA,iBAAAtB,eAAAsB,GAAA,GACAjD,SAAAT,cAAA,aAAAS,EAAA8B,UAAA9B,6BACH,gBAAA2B,eAAAsB,GAAA,GARL3D,SAAAC,cAAA,aAAA,EAAAuC,UAAA,8BAuB2C,QAA5BH,eAAesB,GAAO,GAZ7B3D,SAACC,cAAc,aAAf,EAAoCK,UAApC,2BACR,eAASL,eAAc0D,GAAYrD,GAc3BN,SAASC,cAAc,aAAvB,EAAsCuC,UAAtC,iCATAH,SAAAA,cAAA,aAAAA,EAAJG,UAAIH,iCAGArC,SAASC,cAAc,mBAAvBD,EAAsCwC,UAAtCH,eAAAsB,GAAA,GADG3D,SAEIqC,cAAc,cAFlB,EAEgCG,UAAhCH,eAA+CsB,GAAA,GAA/C,UACM1D,MAATD,MADGA,SAEIqC,cAAesB,oBAFnB,EAEuCnB,UAAA,gBAAAH,eAAAsB,GAAA,GAAA,OAC1C3D,SAASC,cAAc,sBAAvBD,EAAAwC,UAAAH,eAAAsB,GAAA,IACOtB,MAAAA,OACPrC,SAASC,cAAc,oBAAvBD,EAAAwC,UAAA,oBAAAH,eAAAsB,GAAA,GAAA,OADG3D,SAEAC,cAAA,sBAFA,EAEAuC,UAAAH,eAAAsB,GAAA,IAEN3D,SAAAC,cAAA,OAAA,EAAAuC,UAAA,UAAAE,OAAAL,eAAAsB,GAAA,GAAA,IAAA,CAYJ,CA9BD3D,SAASC,cAAc,mBAAvB,EAA4CK,QAAUsD,YAXtD5D,SAAM4D,cAAc,UAApB,EAAMA,QAAoBA","file":"main.min.js","sourcesContent":["const langArr = {\n    'menu-1' : {\n        'ru': 'меню',\n        'en': 'menu',\n    },\n    'menu-2' : {\n        'ru': 'скачать приложение',\n        'en': 'download app',\n    },\n    'menu-3' : {\n        'ru': 'контакты',\n        'en': 'contact us',\n    },\n    'sign_up' : {\n        'ru': 'регистрация',\n        'en': 'sign up',\n    },\n    'h2' : {\n        'ru': 'Узнайте погоду в любой точке мира с помощью <span class=\"waviy\"><span style=\"--i:1\">D</span><span style=\"--i:2\">a</span><span style=\"--i:3\">r</span><span style=\"--i:4\">k</span><span style=\"margin: 4px\"> </span><span style=\"--i:6\">W</span><span style=\"--i:7\">e</span><span style=\"--i:8\">a</span><span style=\"--i:9\">t</span><span style=\"--i:10\">h</span><span style=\"--i:11\">e</span><span style=\"--i:12\">r</span><span style=\"--i:13\">!</span></span>',\n        'en': 'Seing the weather of the whole world with <span class=\"waviy\"><span style=\"--i:1\">D</span><span style=\"--i:2\">a</span><span style=\"--i:3\">r</span><span style=\"--i:4\">k</span><span style=\"margin: 4px\"> </span><span style=\"--i:6\">W</span><span style=\"--i:7\">e</span><span style=\"--i:8\">a</span><span style=\"--i:9\">t</span><span style=\"--i:10\">h</span><span style=\"--i:11\">e</span><span style=\"--i:12\">r</span><span style=\"--i:13\">!</span></span>',\n    },\n    'search' : {\n        'ru': 'искать здесь',\n        'en': 'search here',\n    },\n    'filter__text' : {\n        'ru': 'Фильтры',\n        'en': 'Filters',\n    },\n    'f1' : {\n        'ru': 'Теплее',\n        'en': 'Coldest',\n    },\n    'f2' : {\n        'ru': 'Холоднее',\n        'en': 'Warmest',\n    },\n}","//Очистка поиска при нажатии\nlet defaultSearchValue = document.querySelector('.search').value;\nfunction clearSearch(){\n    let val = document.querySelector('.search').value;\n    if (val == 'search here' || val == 'искать здесь'){\n        document.querySelector('.search').value = '';\n    };\n}\n\ndocument.querySelector('.search').onclick = clearSearch;\n\n//Наполнение пустого поиска\nfunction fillSearch(){\n    let val = document.querySelector('.search').value;\n    if (val == ''){\n        document.querySelector('.search').value = defaultSearchValue;\n    };\n}\n\ndocument.querySelector('.search').addEventListener(\"focusout\", fillSearch);\n\n// Логика появления крестика\nlet crossCount = 0;\nfunction crossAppearAndAlarmDissappear(){\n    if (crossCount ==  0){\n        document.querySelector('.cross').classList.toggle('zeroOpt');\n        crossCount++;\n    }\n    document.querySelector('.alarm').classList.add('zeroOpt');\n}\n\ndocument.querySelector('.search').oninput = crossAppearAndAlarmDissappear;\n\n\n// Логика работы крестика\nfunction crossClear(){\n    document.querySelector('.search').value = '';\n    document.querySelector('.cross').classList.toggle('zeroOpt');    \n    crossCount--;\n}\n    \ndocument.querySelector('.cross').onclick = crossClear;\n\n//Смена языка\nconst select = document.querySelector('select');\nconst allLang = ['en', 'ru'];\n\nselect.addEventListener('change', changeUrlLanguage);\n\nfunction changeUrlLanguage(){\n    let lang = select.value;\n    location.href = window.location.pathname + '#' + lang;\n    location.reload();\n}\n\n//Вертим стрелочки в Select\nlet arrow = document.querySelectorAll('.arrow');\n\nfunction rotateLangArrow1 (){\n    if (arrow[0].classList.contains('rotate')){\n        arrow[0].classList.remove('rotate');\n    } else {\n        arrow[0].classList.add('rotate');\n    }\n}\nfunction rotateLangArrow2 (){\n    if (arrow[1].classList.contains('rotate')){\n        arrow[1].classList.remove('rotate');\n    } else {\n        arrow[1].classList.add('rotate');\n    }\n}\nfunction rotateLangArrow3 (){\n    if (arrow[2].classList.contains('rotate')){\n        arrow[2].classList.remove('rotate');\n    } else {\n        arrow[2].classList.add('rotate');\n    }\n}\nfunction rotateLangArrow4 (){\n    if (arrow[3].classList.contains('rotate')){\n        arrow[3].classList.remove('rotate');\n    } else {\n        arrow[3].classList.add('rotate');\n    }\n}\n\ndocument.querySelector('.change_lang').onfocus = rotateLangArrow1;\ndocument.querySelector('.change_lang').onblur = rotateLangArrow1;\ndocument.querySelector('#coldest-warmest').onfocus = rotateLangArrow2;\ndocument.querySelector('#coldest-warmest').onblur = rotateLangArrow2;\ndocument.querySelector('#temp').onfocus = rotateLangArrow3;\ndocument.querySelector('#temp').onblur = rotateLangArrow3;\n// document.querySelector('#weather').onfocus = rotateLangArrow4;\n// document.querySelector('#weather').onblur = rotateLangArrow4;\n\n\n// Меняет язык сайта \nlet hash = window.location.hash;\nhash = hash.substr(1);\nif (!allLang.includes(hash)){\n    location.href = window.location.pathname + '#en';\n    location.reload();\n}\nselect.value = hash;\n\nfunction changeLanguage(){\n    for (let key in langArr){\n        let elem = document.querySelector('.'+ key);\n        if(elem.classList.contains('search')) {\n            elem.value = langArr[key][hash];\n        } else {\n            elem.innerHTML = langArr[key][hash];\n        }\n    }\n}\nchangeLanguage();\n\nlet selectedCities = [];\nlet CityCount = 0;\nfunction getCityWeather(){\n    let val = document.querySelector('.search').value;\n    fetch(`https://api.openweathermap.org/data/2.5/weather?q=${val}&appid=5c32ce994c3668d65bb55ab967a0bf2c&units=metric&lang=${hash}`)\n    .then(function(resp) { return resp.json() }) // Получает от fetch строку и преобразует в массив\n    .then(function (data){\n        selectedCities.push([]);\n        selectedCities[CityCount].push(data.name);\n        selectedCities[CityCount].push(data.main.temp);\n        selectedCities[CityCount].push(data.wind.speed);\n        selectedCities[CityCount].push(data.weather[0].description);\n        selectedCities[CityCount].push(data.timezone);\n        if(selectedCities[CityCount] == undefined){\n            document.querySelector('.alarm').classList.remove('zeroOpt');\n        } else {\n            document.createElement('div').classList.add(`card${CityCount}`);\n            console.log(document.createElement('div').classList.add('card'));\n            // newCard.innerHTML = '<div class=\"icon\"></div><div class=\"icon_eclipse\"></div><div class=\"main_info\"><span class=\"city_info\"></span><span class=\"temp\"></span></div><div class=\"wind_speed\"></div><div class=\"time\"></div><div class=\"weather_type\"></div>';\n            // document.querySelector('.card__container').appendChild(newCard);\n        }\n        CityCount++;\n    })\n    console.log(selectedCities);\n}\ndocument.querySelector('.search__btn').onclick = getCityWeather;\n\n// Кнопка регистрации\nconst toggleModal = () => {\n    const { classList } = document.body;\n    if (classList.contains('open')){\n        classList.remove('open');\n        classList.add('closed');\n    } else {\n        classList.remove('closed');\n        classList.add('open');\n    }\n}\n\ndocument.querySelector('.modal-background').onclick = toggleModal;\ndocument.querySelector('.sign_up').onclick = toggleModal;\n\n\nfunction setTheCard(index){\n\n    if (selectedCities[index][3] == \"clear sky\"){\n        document.querySelector('.card .icon').innerHTML = `<img src=\"img/ClearSky.png\">`;\n    } else if (selectedCities[index][3] == \"few clouds\" || selectedCities[index][3] == \"scattered clouds\" || selectedCities[index][3] == \"broken clouds\"){\n        document.querySelector('.card .icon').innerHTML = `<img src=\"img/Clouds.png\">`;\n    } else if (selectedCities[index][3] == \"thunderstorm\"){\n        document.querySelector('.card .icon').innerHTML = `<img src=\"img/Thunder.png\">`;\n    } else if (selectedCities[index][3] == \"rain\"){\n        document.querySelector('.card .icon').innerHTML = `<img src=\"img/Rain.png\">`;\n    } else if (selectedCities[index][3] == \"shower rain\"){\n        document.querySelector('.card .icon').innerHTML = `<img src=\"img/ShowerRain.png\">`;\n    } else {\n        document.querySelector('.card .icon').innerHTML = `<img src=\"img/aFewClouds.png\">`;\n    }\n    \n    document.querySelector('.card1 .city_info').innerHTML = selectedCities[index][0];\n    document.querySelector('.card1 .temp').innerHTML = selectedCities[index][1] + ' ' + `&deg;С`;\n    if (hash == 'en') {\n        document.querySelector('.card1 .wind_speed').innerHTML ='Wind Speed : ' + selectedCities[index][2] + ' m/s';\n        document.querySelector('.card1 .weather_type').innerHTML = selectedCities[index][3];\n    } else if (hash == 'ru') {\n        document.querySelector('.card1 .wind_speed').innerHTML ='Скорость ветра : ' + selectedCities[index][2] + ' м/с';\n        document.querySelector('.card1 .weather_type').innerHTML = selectedCities[index][3];\n    }\n    document.querySelector('.time').innerHTML = `GTM : +${selectedCities[index][4] / 3600}`;\n}"]}