"use strict";!function(){var a,s,n,e,t=document.getElementsByClassName("carousel")[0],l=t.getElementsByClassName("carousel__slider")[0],r=t.getElementsByClassName("carousel__slider__item"),i=t.getElementsByClassName("carousel__prev")[0],t=t.getElementsByClassName("carousel__next")[0],o=20,c=0,m=4e3;function d(){a=Math.max(.25*window.innerWidth,275),s=.5*window.innerHeight,n=a*r.length,l.style.width=n+"px";for(var e=0;e<r.length;e++){var t=r[e];t.style.width=a-2*o+"px",t.style.height=s+"px"}}function _(e){(e=e<1?r.length:e)>r.length&&(e=1),c=e;for(var t=0;t<r.length;t++){var s=r[t],n=s.getElementsByClassName("item__3d-frame")[0];t==e-1?(s.classList.add("carousel__slider__item--active"),n.style.transform="perspective(1200px)"):(s.classList.remove("carousel__slider__item--active"),n.style.transform="perspective(1200px) rotateY("+(t<e-1?40:-40)+"deg)")}l.style.transform="translate3d("+(e*-a+a/2+window.innerWidth/2)+"px, 0, 0)"}function u(){clearInterval(e),e=setInterval(function(){_(++c)},m)}d(),_(Math.floor(r.length/2)),window.onresize=d,i.addEventListener("click",function(){_(--c),u()}),t.addEventListener("click",function(){_(++c),u()}),u()}();
"use strict";var langArr={"menu-1":{ru:"меню",en:"menu"},"menu-2":{ru:"скачать приложение",en:"download app"},"menu-3":{ru:"контакты",en:"contact us"},sign_up:{ru:"регистрация",en:"sign up"},h2:{ru:'Узнайте погоду в любой точке мира с помощью <span class="waviy"><span style="--i:1">D</span><span style="--i:2">a</span><span style="--i:3">r</span><span style="--i:4">k</span><span style="margin: 4px"> </span><span style="--i:6">W</span><span style="--i:7">e</span><span style="--i:8">a</span><span style="--i:9">t</span><span style="--i:10">h</span><span style="--i:11">e</span><span style="--i:12">r</span><span style="--i:13">!</span></span>',en:'Seing the weather of the whole world with <span class="waviy"><span style="--i:1">D</span><span style="--i:2">a</span><span style="--i:3">r</span><span style="--i:4">k</span><span style="margin: 4px"> </span><span style="--i:6">W</span><span style="--i:7">e</span><span style="--i:8">a</span><span style="--i:9">t</span><span style="--i:10">h</span><span style="--i:11">e</span><span style="--i:12">r</span><span style="--i:13">!</span></span>'},search:{ru:"искать здесь",en:"search here"},filter__text:{ru:"Фильтры",en:"Filters"},f1:{ru:"Теплее",en:"Coldest"},f2:{ru:"Холоднее",en:"Warmest"}};
"use strict";var crossCount=0,select=document.querySelector("select"),allLang=["en","ru"],arrow=document.querySelectorAll(".arrow"),hash=window.location.hash,selectedCities=[],CityCount=0;function clearSearch(){var e=document.querySelector(".search").value;"search here"!=e&&"искать здесь"!=e||(document.querySelector(".search").value="")}function fillSearch(){""==document.querySelector(".search").value&&(document.querySelector(".search").value=langArr.search[window.location.hash.substr(1)])}function crossAppearAndAlarmDissappear(){0==crossCount&&(document.querySelector(".cross").classList.toggle("zeroOpt"),crossCount++),document.querySelector(".alarm").classList.add("zeroOpt")}function crossClear(){document.querySelector(".search").value="",document.querySelector(".cross").classList.toggle("zeroOpt"),document.querySelector(".search").focus(),crossCount--}function changeUrlLanguage(){var e=select.value;location.href=window.location.pathname+"#"+e,location.reload()}function rotateLangArrow1(){arrow[0].classList.contains("rotate")?arrow[0].classList.remove("rotate"):arrow[0].classList.add("rotate")}function rotateLangArrow2(){arrow[1].classList.contains("rotate")?arrow[1].classList.remove("rotate"):arrow[1].classList.add("rotate")}function rotateLangArrow3(){arrow[2].classList.contains("rotate")?arrow[2].classList.remove("rotate"):arrow[2].classList.add("rotate")}function rotateLangArrow4(){arrow[3].classList.contains("rotate")?arrow[3].classList.remove("rotate"):arrow[3].classList.add("rotate")}function changeLanguage(){for(var e in langArr){var t=document.querySelector("."+e);t.classList.contains("search")?t.value=langArr[e][hash]:t.innerHTML=langArr[e][hash]}}function getCityWeatherAndAlarmIfWrongCity(){var e=document.querySelector(".search").value;fetch("https://api.openweathermap.org/data/2.5/weather?q=".concat(e,"&appid=5c32ce994c3668d65bb55ab967a0bf2c&units=metric&lang=").concat(hash)).then(function(e){return e.json()}).then(function(e){try{console.log(e),selectedCities.push([]),selectedCities[CityCount].push(e.name),selectedCities[CityCount].push(e.main.temp),selectedCities[CityCount].push(e.wind.speed),selectedCities[CityCount].push(e.weather[0].description),selectedCities[CityCount].push(e.timezone),selectedCities[CityCount].push(e.weather[0].main),cardCreation()}catch(e){document.querySelector(".alarm").classList.remove("zeroOpt")}finally{CityCount++}}),console.log(selectedCities)}function cardCreation(){var e=document.createElement("div"),t=document.createElement("div"),c=document.createElement("div"),r=document.createElement("div"),n=document.createElement("div"),o=document.createElement("div"),i=document.createElement("div"),s=document.createElement("div"),a=document.createElement("div"),d=document.createElement("div");e.classList.add("card"),t.classList.add("icon"),c.classList.add("icon_eclipse"),r.classList.add("main_info"),n.classList.add("city_info"),o.classList.add("temp"),i.classList.add("wind_speed"),s.classList.add("weather_type"),a.classList.add("time"),d.classList.add("GTM"),e.appendChild(t),e.appendChild(c),e.appendChild(r),r.appendChild(n),r.appendChild(o),e.appendChild(i),e.appendChild(s),e.appendChild(a),e.appendChild(d),document.querySelector(".card__container").prepend(e),fillTheCard(CityCount)}document.querySelector(".search").onclick=clearSearch,document.querySelector(".search").addEventListener("focusout",fillSearch),document.querySelector(".search").oninput=crossAppearAndAlarmDissappear,document.querySelector(".cross").onclick=crossClear,select.addEventListener("change",changeUrlLanguage),document.querySelector(".change_lang").onfocus=rotateLangArrow1,document.querySelector(".change_lang").onblur=rotateLangArrow1,document.querySelector("#coldest-warmest").onfocus=rotateLangArrow2,document.querySelector("#coldest-warmest").onblur=rotateLangArrow2,document.querySelector("#temp").onfocus=rotateLangArrow3,document.querySelector("#temp").onblur=rotateLangArrow3,hash=hash.substr(1),allLang.includes(hash)||(location.href=window.location.pathname+"#en",location.reload()),select.value=hash,changeLanguage(),document.querySelector(".search__btn").onclick=getCityWeatherAndAlarmIfWrongCity;var toggleModal=function(){var e=document.body.classList;e.contains("open")?(e.remove("open"),e.add("closed")):(e.remove("closed"),e.add("open"))};function fillTheCard(e){var t=new Date,c=t.getUTCHours(),r=t.getUTCMinutes(),t=t.getUTCSeconds();19<c+selectedCities[e][4]/3600?"clear sky"==selectedCities[e][3]?document.querySelector(".card .icon").innerHTML='<img src="img/icons/ClearNight.png">':"overcast clouds"===selectedCities[e][3]||"broken clouds"==selectedCities[e][3]?document.querySelector(".card .icon").innerHTML='<img src="img/icons/CloudyNight.png">':"few clouds"===selectedCities[e][3]||"scattered clouds"==selectedCities[e][3]?document.querySelector(".card .icon").innerHTML='<img src="img/icons/FewCloudsNight.png">':"Mist"===selectedCities[e][5]?document.querySelector(".card .icon").innerHTML='<img src="img/icons/MistNight.png">':"Drizzle"===selectedCities[e][5]?document.querySelector(".card .icon").innerHTML='<img src="img/icons/ShowerRainNight.png">':"Rain"==selectedCities[e][5]?document.querySelector(".card .icon").innerHTML='<img src="img/icons/RainNight.png">':"snow"===selectedCities[e][5]?document.querySelector(".card .icon").innerHTML='<img src="img/icons/snowNight.png">':"Thunderstorm"===selectedCities[e][5]?document.querySelector(".card .icon").innerHTML='<img src="img/icons/ThunderstormNight.png">':"tornado"===selectedCities[e][3]?document.querySelector(".card .icon").innerHTML='<img src="img/icons/Tornado.png">':document.querySelector(".card .icon").innerHTML='<img src="img/icons/AnythingElse.png">':"clear sky"==selectedCities[e][3]?document.querySelector(".card .icon").innerHTML='<img src="img/icons/ClearDay.png">':"overcast clouds"===selectedCities[e][3]||"broken clouds"==selectedCities[e][3]?document.querySelector(".card .icon").innerHTML='<img src="img/icons/CloudyDay.png">':"few clouds"===selectedCities[e][3]||"scattered clouds"==selectedCities[e][3]?document.querySelector(".card .icon").innerHTML='<img src="img/icons/FewCloudsDay.png">':"Mist"===selectedCities[e][5]?document.querySelector(".card .icon").innerHTML='<img src="img/icons/MistDay.png">':"Drizzle"===selectedCities[e][5]?document.querySelector(".card .icon").innerHTML='<img src="img/icons/ShowerRainDay.png">':"Rain"==selectedCities[e][5]?document.querySelector(".card .icon").innerHTML='<img src="img/icons/RainDay.png">':"snow"===selectedCities[e][5]?document.querySelector(".card .icon").innerHTML='<img src="img/icons/snowDay.png">':"Thunderstorm"===selectedCities[e][5]?document.querySelector(".card .icon").innerHTML='<img src="img/icons/ThunderstormDay.png">':"tornado"===selectedCities[e][3]?document.querySelector(".card .icon").innerHTML='<img src="img/icons/Tornado.png">':document.querySelector(".card .icon").innerHTML='<img src="img/icons/AnythingElse.png">',document.querySelector(".card .city_info").innerHTML=selectedCities[e][0],document.querySelector(".card .temp").innerHTML=selectedCities[e][1]+" &deg;С","en"===hash?(document.querySelector(".card .wind_speed").innerHTML="Wind Speed : "+selectedCities[e][2]+" m/s",document.querySelector(".card .time").innerHTML="Local time: ".concat(c+selectedCities[e][4]/3600,":").concat(r,":").concat(t)):"ru"===hash&&(document.querySelector(".card .wind_speed").innerHTML="Скорость ветра : "+selectedCities[e][2]+" m/s",document.querySelector(".card .time").innerHTML="Местное время: ".concat(c+selectedCities[e][4]/3600,":").concat(r,":").concat(t)),document.querySelector(".card .weather_type").innerHTML=selectedCities[e][3],0<selectedCities[e][4]/3600?document.querySelector(".GTM").innerHTML="GTM : +".concat(selectedCities[e][4]/3600):document.querySelector(".GTM").innerHTML="GTM : ".concat(selectedCities[e][4]/3600)}document.querySelector(".modal-background").onclick=toggleModal,document.querySelector(".sign_up").onclick=toggleModal;var togglePassword=function(e){e.classList.toggle("showing");e=document.getElementById("password");e.type="password"===e.type?"text":"password"};
//# sourceMappingURL=main.min.js.map
