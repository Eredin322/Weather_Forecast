"use strict";var langArr={"menu-1":{ru:"меню",en:"menu"},"menu-2":{ru:"скачать приложение",en:"download app"},"menu-3":{ru:"контакты",en:"contact us"},sign_up:{ru:"регистрация",en:"sign up"},h2:{ru:'Узнайте погоду в любой точке мира с помощью <span class="waviy"><span style="--i:1">D</span><span style="--i:2">a</span><span style="--i:3">r</span><span style="--i:4">k</span><span style="margin: 4px"> </span><span style="--i:6">W</span><span style="--i:7">e</span><span style="--i:8">a</span><span style="--i:9">t</span><span style="--i:10">h</span><span style="--i:11">e</span><span style="--i:12">r</span><span style="--i:13">!</span></span>',en:'Seing the weather of the whole world with <span class="waviy"><span style="--i:1">D</span><span style="--i:2">a</span><span style="--i:3">r</span><span style="--i:4">k</span><span style="margin: 4px"> </span><span style="--i:6">W</span><span style="--i:7">e</span><span style="--i:8">a</span><span style="--i:9">t</span><span style="--i:10">h</span><span style="--i:11">e</span><span style="--i:12">r</span><span style="--i:13">!</span></span>'},search:{ru:"искать здесь",en:"search here"},filter__text:{ru:"Фильтры",en:"Filters"},f1:{ru:"Теплее",en:"Coldest"},f2:{ru:"Холоднее",en:"Warmest"}};
"use strict";var crossCount=0,select=document.querySelector("select"),allLang=["en","ru"],arrow=document.querySelectorAll(".arrow"),hash=window.location.hash,selectedCities=[],CityCount=0;function clearSearch(){var e=document.querySelector(".search").value;"search here"!=e&&"искать здесь"!=e||(document.querySelector(".search").value="")}function fillSearch(){""==document.querySelector(".search").value&&(document.querySelector(".search").value=langArr.search[window.location.hash.substr(1)])}function crossAppearAndAlarmDissappear(){0==crossCount&&(document.querySelector(".cross").classList.toggle("zeroOpt"),crossCount++),document.querySelector(".alarm").classList.add("zeroOpt")}function crossClear(){document.querySelector(".search").value="",document.querySelector(".cross").classList.toggle("zeroOpt"),crossCount--}function changeUrlLanguage(){var e=select.value;location.href=window.location.pathname+"#"+e,location.reload()}function rotateLangArrow1(){arrow[0].classList.contains("rotate")?arrow[0].classList.remove("rotate"):arrow[0].classList.add("rotate")}function rotateLangArrow2(){arrow[1].classList.contains("rotate")?arrow[1].classList.remove("rotate"):arrow[1].classList.add("rotate")}function rotateLangArrow3(){arrow[2].classList.contains("rotate")?arrow[2].classList.remove("rotate"):arrow[2].classList.add("rotate")}function rotateLangArrow4(){arrow[3].classList.contains("rotate")?arrow[3].classList.remove("rotate"):arrow[3].classList.add("rotate")}function changeLanguage(){for(var e in langArr){var t=document.querySelector("."+e);t.classList.contains("search")?t.value=langArr[e][hash]:t.innerHTML=langArr[e][hash]}}function getCityWeatherAndAlarmIfWrongCity(){var e=document.querySelector(".search").value;fetch("https://api.openweathermap.org/data/2.5/weather?q=".concat(e,"&appid=5c32ce994c3668d65bb55ab967a0bf2c&units=metric&lang=").concat(hash)).then(function(e){return e.json()}).then(function(e){try{selectedCities.push([]),selectedCities[CityCount].push(e.name),selectedCities[CityCount].push(e.main.temp),selectedCities[CityCount].push(e.wind.speed),selectedCities[CityCount].push(e.weather[0].description),selectedCities[CityCount].push(e.timezone),cardCreation()}catch(e){document.querySelector(".alarm").classList.remove("zeroOpt")}finally{CityCount++}}),console.log(selectedCities)}function cardCreation(){var e=document.createElement("div"),t=document.createElement("div"),r=document.createElement("div"),c=document.createElement("div"),o=document.createElement("div"),a=document.createElement("div"),n=document.createElement("div"),s=document.createElement("div"),i=document.createElement("div");e.classList.add("card"),t.classList.add("icon"),r.classList.add("icon_eclipse"),c.classList.add("main_info"),o.classList.add("city_info"),a.classList.add("temp"),n.classList.add("wind_speed"),s.classList.add("weather_type"),i.classList.add("time"),e.appendChild(t),e.appendChild(r),e.appendChild(c),c.appendChild(o),c.appendChild(a),e.appendChild(n),e.appendChild(s),e.appendChild(i),document.querySelector(".card__container").prepend(e),fillTheCard(CityCount)}document.querySelector(".search").onclick=clearSearch,document.querySelector(".search").addEventListener("focusout",fillSearch),document.querySelector(".search").oninput=crossAppearAndAlarmDissappear,document.querySelector(".cross").onclick=crossClear,select.addEventListener("change",changeUrlLanguage),document.querySelector(".change_lang").onfocus=rotateLangArrow1,document.querySelector(".change_lang").onblur=rotateLangArrow1,document.querySelector("#coldest-warmest").onfocus=rotateLangArrow2,document.querySelector("#coldest-warmest").onblur=rotateLangArrow2,document.querySelector("#temp").onfocus=rotateLangArrow3,document.querySelector("#temp").onblur=rotateLangArrow3,hash=hash.substr(1),allLang.includes(hash)||(location.href=window.location.pathname+"#en",location.reload()),select.value=hash,changeLanguage(),document.querySelector(".search__btn").onclick=getCityWeatherAndAlarmIfWrongCity;var toggleModal=function(){var e=document.body.classList;e.contains("open")?(e.remove("open"),e.add("closed")):(e.remove("closed"),e.add("open"))};function fillTheCard(e){"clear sky"==selectedCities[e][3]?document.querySelector(".card .icon").innerHTML='<img src="img/ClearSky.png">':"few clouds"==selectedCities[e][3]||"scattered clouds"==selectedCities[e][3]||"broken clouds"==selectedCities[e][3]?document.querySelector(".card .icon").innerHTML='<img src="img/Clouds.png">':"thunderstorm"==selectedCities[e][3]?document.querySelector(".card .icon").innerHTML='<img src="img/Thunder.png">':"rain"==selectedCities[e][3]?document.querySelector(".card .icon").innerHTML='<img src="img/Rain.png">':"shower rain"==selectedCities[e][3]?document.querySelector(".card .icon").innerHTML='<img src="img/ShowerRain.png">':document.querySelector(".card .icon").innerHTML='<img src="img/aFewClouds.png">',document.querySelector(".card .city_info").innerHTML=selectedCities[e][0],document.querySelector(".card .temp").innerHTML=selectedCities[e][1]+" &deg;С",document.querySelector(".card .wind_speed").innerHTML="Wind Speed : "+selectedCities[e][2]+" m/s",document.querySelector(".card .weather_type").innerHTML=selectedCities[e][3],document.querySelector(".time").innerHTML="GTM : +".concat(selectedCities[e][4]/3600)}document.querySelector(".modal-background").onclick=toggleModal,document.querySelector(".sign_up").onclick=toggleModal;
//# sourceMappingURL=main.min.js.map
