"use strict";var langArr={"menu-1":{ru:"меню",en:"menu"},"menu-2":{ru:"скачать приложение",en:"download app"},"menu-3":{ru:"контакты",en:"contact us"},sign_up:{ru:"регистрация",en:"sign up"},h2:{ru:"Узнайте погоду во всем мире с помощью <span>Dark Weather!</span>",en:"Seing the weather of the whole world with <span>Dark Weather!</span>"},search:{ru:"искать здесь",en:"search here"},filter__text:{ru:"Фильтры",en:"Filters"}};
"use strict";function clearSearch(){var e=document.querySelector(".search").value;"search here"!=e&&"искать здесь"!=e||(document.querySelector(".search").value="")}document.querySelector(".search").onclick=clearSearch;var crossCount=0;function crossAppearAndAlarmDissappear(){0==crossCount&&(document.querySelector(".cross").classList.toggle("zeroOpt"),crossCount++),document.querySelector(".alarm").classList.add("zeroOpt")}function crossClear(){document.querySelector(".search").value="",document.querySelector(".cross").classList.toggle("zeroOpt"),crossCount--}document.querySelector(".search").oninput=crossAppearAndAlarmDissappear,document.querySelector(".cross").onclick=crossClear;var select=document.querySelector("select"),allLang=["en","ru"];function changeUrlLanguage(){var e=select.value;location.href=window.location.pathname+"#"+e,location.reload()}select.addEventListener("change",changeUrlLanguage);var arrow=document.querySelectorAll(".arrow");function rotateLangArrow1(){arrow[0].classList.contains("rotate")?arrow[0].classList.remove("rotate"):arrow[0].classList.add("rotate")}function rotateLangArrow2(){arrow[1].classList.contains("rotate")?arrow[1].classList.remove("rotate"):arrow[1].classList.add("rotate")}function rotateLangArrow3(){arrow[2].classList.contains("rotate")?arrow[2].classList.remove("rotate"):arrow[2].classList.add("rotate")}function rotateLangArrow4(){arrow[3].classList.contains("rotate")?arrow[3].classList.remove("rotate"):arrow[3].classList.add("rotate")}document.querySelector(".change_lang").onfocus=rotateLangArrow1,document.querySelector(".change_lang").onblur=rotateLangArrow1,document.querySelector("#coldest-warmest").onfocus=rotateLangArrow2,document.querySelector("#coldest-warmest").onblur=rotateLangArrow2,document.querySelector("#temp").onfocus=rotateLangArrow3,document.querySelector("#temp").onblur=rotateLangArrow3;var hash=window.location.hash;function changeLanguage(){for(var e in langArr){var t=document.querySelector("."+e);t.classList.contains("search")?t.value=langArr[e][hash]:t.innerHTML=langArr[e][hash]}}hash=hash.substr(1),allLang.includes(hash)||(location.href=window.location.pathname+"#en",location.reload()),select.value=hash,changeLanguage();var selectedCities=[],CityCount=0;function getCityWeather(){var e=document.querySelector(".search").value;fetch("https://api.openweathermap.org/data/2.5/weather?q=".concat(e,"&appid=5c32ce994c3668d65bb55ab967a0bf2c&units=metric&lang=").concat(hash)).then(function(e){return e.json()}).then(function(e){selectedCities.push([]),selectedCities[CityCount].push(e.name),selectedCities[CityCount].push(e.main.temp),selectedCities[CityCount].push(e.wind.speed),selectedCities[CityCount].push(e.weather[0].description),selectedCities[CityCount].push(e.timezone),null==selectedCities[CityCount]?document.querySelector(".alarm").classList.remove("zeroOpt"):(document.createElement("div").classList.add("card".concat(CityCount)),console.log(document.createElement("div").classList.add("card"))),CityCount++}),console.log(selectedCities)}function setTheCard(e){"clear sky"==selectedCities[e][3]?document.querySelector(".card .icon").innerHTML='<img src="img/ClearSky.png">':"few clouds"==selectedCities[e][3]||"scattered clouds"==selectedCities[e][3]||"broken clouds"==selectedCities[e][3]?document.querySelector(".card .icon").innerHTML='<img src="img/Clouds.png">':"thunderstorm"==selectedCities[e][3]?document.querySelector(".card .icon").innerHTML='<img src="img/Thunder.png">':"rain"==selectedCities[e][3]?document.querySelector(".card .icon").innerHTML='<img src="img/Rain.png">':"shower rain"==selectedCities[e][3]?document.querySelector(".card .icon").innerHTML='<img src="img/ShowerRain.png">':document.querySelector(".card .icon").innerHTML='<img src="img/aFewClouds.png">',document.querySelector(".card1 .city_info").innerHTML=selectedCities[e][0],document.querySelector(".card1 .temp").innerHTML=selectedCities[e][1]+" &deg;С","en"==hash?(document.querySelector(".card1 .wind_speed").innerHTML="Wind Speed : "+selectedCities[e][2]+" m/s",document.querySelector(".card1 .weather_type").innerHTML=selectedCities[e][3]):"ru"==hash&&(document.querySelector(".card1 .wind_speed").innerHTML="Скорость ветра : "+selectedCities[e][2]+" м/с",document.querySelector(".card1 .weather_type").innerHTML=selectedCities[e][3]),document.querySelector(".time").innerHTML="GTM : +".concat(selectedCities[e][4]/3600)}document.querySelector(".search__btn").onclick=getCityWeather;
//# sourceMappingURL=main.min.js.map
